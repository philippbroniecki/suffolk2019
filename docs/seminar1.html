<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 Introduction to R and RStudio | Suffolk 2019</title>
  <meta name="description" content="Chapter 1 Introduction to R and RStudio | Suffolk 2019" />
  <meta name="generator" content="bookdown 0.12 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 Introduction to R and RStudio | Suffolk 2019" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 Introduction to R and RStudio | Suffolk 2019" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html">
<link rel="next" href="seminar2.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="lib/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="js/codefolding.js"></script>


<script>
$(document).ready(function () {
  window.initializeCodeFolding();
});
</script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="lib\bootstrap\3.3.7\css\bootstrap.min.css" type="text/css" />
<link rel="stylesheet" href="css\readthedocs.css" type="text/css" />
<link rel="stylesheet" href="css\custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this course</a></li>
<li class="chapter" data-level="1" data-path="seminar1.html"><a href="seminar1.html"><i class="fa fa-check"></i><b>1</b> Introduction to R and RStudio</a><ul>
<li class="chapter" data-level="1.1" data-path="seminar1.html"><a href="seminar1.html#learning-objectives"><i class="fa fa-check"></i><b>1.1</b> Learning objectives</a><ul>
<li class="chapter" data-level="1.1.1" data-path="seminar1.html"><a href="seminar1.html#what-is-r"><i class="fa fa-check"></i><b>1.1.1</b> What is R?</a></li>
<li class="chapter" data-level="1.1.2" data-path="seminar1.html"><a href="seminar1.html#rstudio"><i class="fa fa-check"></i><b>1.1.2</b> RStudio</a></li>
<li class="chapter" data-level="1.1.3" data-path="seminar1.html"><a href="seminar1.html#console"><i class="fa fa-check"></i><b>1.1.3</b> Console</a></li>
<li class="chapter" data-level="1.1.4" data-path="seminar1.html"><a href="seminar1.html#functions"><i class="fa fa-check"></i><b>1.1.4</b> Functions</a></li>
<li class="chapter" data-level="1.1.5" data-path="seminar1.html"><a href="seminar1.html#getting-help"><i class="fa fa-check"></i><b>1.1.5</b> Getting Help</a></li>
<li class="chapter" data-level="1.1.6" data-path="seminar1.html"><a href="seminar1.html#the-assignment-operator"><i class="fa fa-check"></i><b>1.1.6</b> The Assignment Operator</a></li>
<li class="chapter" data-level="1.1.7" data-path="seminar1.html"><a href="seminar1.html#sequences"><i class="fa fa-check"></i><b>1.1.7</b> Sequences</a></li>
<li class="chapter" data-level="1.1.8" data-path="seminar1.html"><a href="seminar1.html#scripts"><i class="fa fa-check"></i><b>1.1.8</b> Scripts</a></li>
<li class="chapter" data-level="1.1.9" data-path="seminar1.html"><a href="seminar1.html#central-tendency"><i class="fa fa-check"></i><b>1.1.9</b> Central Tendency</a></li>
<li class="chapter" data-level="1.1.10" data-path="seminar1.html"><a href="seminar1.html#dispersion"><i class="fa fa-check"></i><b>1.1.10</b> Dispersion</a></li>
<li class="chapter" data-level="1.1.11" data-path="seminar1.html"><a href="seminar1.html#exercises"><i class="fa fa-check"></i><b>1.1.11</b> Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="seminar2.html"><a href="seminar2.html"><i class="fa fa-check"></i><b>2</b> Research Design, Counterfactuals, Forming Hypotheses</a><ul>
<li class="chapter" data-level="2.1" data-path="seminar2.html"><a href="seminar2.html#seminar"><i class="fa fa-check"></i><b>2.1</b> Seminar</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Suffolk 2019</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r-and-rstudio" class="section level1">
<h1><span class="header-section-number">Chapter 1</span> Introduction to R and RStudio</h1>
<div id="learning-objectives" class="section level2">
<h2><span class="header-section-number">1.1</span> Learning objectives</h2>
<p>In this session, we will have a look at R and RStudio. We will interact with both and use the various components of RStudio.</p>
<div id="what-is-r" class="section level3">
<h3><span class="header-section-number">1.1.1</span> What is R?</h3>
<p>R is an environment for statistical computing and graphics. RStudio is an editor or integrated development environment (IDE) that makes working with R much more comfortable.</p>
<p>To install R and RStudio on your computer, download both from the following sources:</p>
<ul>
<li>Download R from <a href="https://cran.r-project.org">The Comprehensive R Archive Network (CRAN)</a></li>
<li>Download RStudio from <a href="https://www.rstudio.com">RStudio.com</a></li>
</ul>
<p>Keep both R and RStudio up to date. That means go online and check for newer versions. In case there are new versions, download those and re-install.</p>
</div>
<div id="rstudio" class="section level3">
<h3><span class="header-section-number">1.1.2</span> RStudio</h3>
<p>Let’s get acquainted with R. When you start RStudio for the first time, you’ll see three panes:</p>
<p><img src="img/rstudio_default.png" /></p>
</div>
<div id="console" class="section level3">
<h3><span class="header-section-number">1.1.3</span> Console</h3>
<p>The Console in RStudio is the simplest way to interact with R. You can type some code at the Console and when you press ENTER, R will run that code. Depending on what you type, you may see some output in the Console or if you make a mistake, you may get a warning or an error message.</p>
<p>Let’s familiarize ourselves with the console by using R as a simple calculator:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span></a></code></pre></div>
<pre><code>[1] 6</code></pre>
<p>Now that we know how to use the <code>+</code> sign for addition, let’s try some other mathematical operations such as subtraction (<code>-</code>), multiplication (<code>*</code>), and division (<code>/</code>).</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="dv">10</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span></a></code></pre></div>
<pre><code>[1] 6</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="dv">5</span> <span class="op">*</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>[1] 15</code></pre>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="dv">7</span> <span class="op">/</span><span class="st"> </span><span class="dv">2</span></a></code></pre></div>
<pre><code>[1] 3.5</code></pre>
<table>
<colgroup>
<col width="73%" />
<col width="26%" />
</colgroup>
<tbody>
<tr class="odd">
<td>You can use the cursor or arrow keys on your keyboard to edit your code at the console:<br>- Use the UP and DOWN keys to re-run something without typing it again<br>- Use the LEFT and RIGHT keys to edit</td>
<td><img src="img/rstudio_cursorkeys.png" /></td>
</tr>
</tbody>
</table>
<p>Take a few minutes to play around at the console and try different things out. Don’t worry if you make a mistake, you can’t break anything easily!</p>
</div>
<div id="functions" class="section level3">
<h3><span class="header-section-number">1.1.4</span> Functions</h3>
<p>Functions are a set of instructions that carry out a specific task. Functions often require some input and generate some output. For example, instead of using the <code>+</code> operator for addition, we can use the <code>sum</code> function to add two or more numbers.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">sum</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">10</span>)</a></code></pre></div>
<pre><code>[1] 15</code></pre>
<p>In the example above, <code>1, 4, 10</code> are the inputs and 15 is the output. A function always requires the use of parenthesis or round brackets <code>()</code>. Inputs to the function are called <strong>arguments</strong> and go inside the brackets. The output of a function is displayed on the screen but we can also have the option of saving the result of the output. More on this later.</p>
</div>
<div id="getting-help" class="section level3">
<h3><span class="header-section-number">1.1.5</span> Getting Help</h3>
<p>Another useful function in R is <code>help</code> which we can use to display online documentation. For example, if we wanted to know how to use the <code>sum</code> function, we could type <code>help(sum)</code> and look at the online documentation.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">help</span>(sum)</a></code></pre></div>
<p>The question mark <code>?</code> can also be used as a shortcut to access online help.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">?sum</a></code></pre></div>
<p><img src="img/rstudio_help.png" /></p>
<p>Use the toolbar button shown in the picture above to expand and display the help in a new window.</p>
<p>Help pages for functions in R follow a consistent layout generally include these sections:</p>
<table>
<tbody>
<tr class="odd">
<td>Description</td>
<td>A brief description of the function</td>
</tr>
<tr class="even">
<td>Usage</td>
<td>The complete syntax or grammar including all arguments (inputs)</td>
</tr>
<tr class="odd">
<td>Arguments</td>
<td>Explanation of each argument</td>
</tr>
<tr class="even">
<td>Details</td>
<td>Any relevant details about the function and its arguments</td>
</tr>
<tr class="odd">
<td>Value</td>
<td>The output value of the function</td>
</tr>
<tr class="even">
<td>Examples</td>
<td>Example of how to use the function</td>
</tr>
</tbody>
</table>
</div>
<div id="the-assignment-operator" class="section level3">
<h3><span class="header-section-number">1.1.6</span> The Assignment Operator</h3>
<p>Now we know how to provide inputs to a function using parenthesis or round brackets <code>()</code>, but what about the output of a function?</p>
<p>We use the assignment operator <strong><code>&lt;-</code></strong> for creating or updating objects. If we wanted to save the result of adding <code>sum(1, 4, 10)</code>, we would do the following:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">myresult &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="dv">1</span>, <span class="dv">4</span>, <span class="dv">10</span>)</a></code></pre></div>
<p>The line above creates a new object called <code>myresult</code> in our environment and saves the result of the <code>sum(1, 4, 10)</code> in it. To see what’s in <code>myresult</code>, just type it at the console:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">myresult</a></code></pre></div>
<pre><code>[1] 15</code></pre>
<p>Take a look at the <strong>Environment</strong> pane in RStudio and you’ll see <code>myresult</code> there.</p>
<p><img src="img/rstudio_env.png" /></p>
<p>To delete all objects from the environment, you can use the <strong>broom</strong> button as shown in the picture above.</p>
<p>We called our object <code>myresult</code> but we can call it anything as long as we follow a few simple rules. Object names can contain upper or lower case letters (<code>A-Z</code>, <code>a-z</code>), numbers (<code>0-9</code>), underscores (<code>_</code>) or a dot (<code>.</code>) but all object names must start with a letter. Choose names that are descriptive and easy to type.</p>
<table>
<thead>
<tr class="header">
<th>Good Object Names</th>
<th>Bad Object Names</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>result</td>
<td>a</td>
</tr>
<tr class="even">
<td>myresult</td>
<td>x1</td>
</tr>
<tr class="odd">
<td>my.result</td>
<td>this.name.is.just.too.long</td>
</tr>
<tr class="even">
<td>my_result</td>
<td></td>
</tr>
<tr class="odd">
<td>data1</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div id="sequences" class="section level3">
<h3><span class="header-section-number">1.1.7</span> Sequences</h3>
<p>We often need to create sequences when manipulating data. For instance, you might want to perform an operation on the first 10 rows of a dataset so we need a way to select the range we’re interested in.</p>
<p>There are two ways to create a sequence. Let’s try to create a sequence of numbers from 1 to 10 using the two methods:</p>
<ol style="list-style-type: decimal">
<li>Using the colon <code>:</code> operator. If you’re familiar with spreadsheets then you might’ve already used <code>:</code> to select cells, for example <code>A1:A20</code>. In R, you can use the <code>:</code> to create a sequence in a similar fashion:</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></a></code></pre></div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<ol style="list-style-type: decimal">
<li>Using the <code>seq</code> function we get the exact same result:</li>
</ol>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>, <span class="dt">to =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<p>The <code>seq</code> function has a number of options which control how the sequence is generated. For example to create a sequence from 0 to 100 in increments of <code>5</code>, we can use the optional <code>by</code> argument. Notice how we wrote <code>by = 5</code> as the third argument. It is a common practice to specify the name of argument when the argument is optional. The arguments <code>from</code> and <code>to</code> are not optional, se we can write <code>seq(0, 100, by = 5)</code> instead of <code>seq(from = 0, to = 100, by = 5)</code>. Both, are valid ways of achieving the same outcome. You can code whichever way you like. We recommend to write code such that you make it easy for your future self and others to read and understand the code.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">100</span>, <span class="dt">by =</span> <span class="dv">5</span>)</a></code></pre></div>
<pre><code> [1]   0   5  10  15  20  25  30  35  40  45  50  55  60  65  70  75  80
[18]  85  90  95 100</code></pre>
<p>Another common use of the <code>seq</code> function is to create a sequence of a specific length. Here, we create a sequence from 0 to 100 with length 9, i.e., the result is a vector with 9 elements.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">0</span>, <span class="dt">to =</span> <span class="dv">100</span>, <span class="dt">length.out =</span>  <span class="dv">9</span>)</a></code></pre></div>
<pre><code>[1]   0.0  12.5  25.0  37.5  50.0  62.5  75.0  87.5 100.0</code></pre>
<p>Now it’s your turn:</p>
<ul>
<li>Create a sequence of <strong>odd</strong> numbers between 0 and 100 and save it in an object called <code>odd_numbers</code></li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r collapsible"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" title="1">odd_numbers &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">100</span>, <span class="dv">2</span>)</a></code></pre></div>
<ul>
<li>Next, display <code>odd_numbers</code> on the console to verify that you did it correctly</li>
</ul>
<div class="sourceCode" id="cb25"><pre class="sourceCode r collapsible"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1">odd_numbers</a></code></pre></div>
<pre><code> [1]  1  3  5  7  9 11 13 15 17 19 21 23 25 27 29 31 33 35 37 39 41 43 45
[24] 47 49 51 53 55 57 59 61 63 65 67 69 71 73 75 77 79 81 83 85 87 89 91
[47] 93 95 97 99</code></pre>
<ul>
<li><p>What do the numbers in square brackets <code>[ ]</code> mean? Look at the number of values displayed in each line to find out the answer.</p></li>
<li>Use the <code>length</code> function to find out how many values are in the object <code>odd_numbers</code>.
<ul>
<li>HINT: Try <code>help(length)</code> and look at the examples section at the end of the help screen.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode r collapsible"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">length</span>(odd_numbers)</a></code></pre></div>
<pre><code>[1] 50</code></pre>
</div>
<div id="scripts" class="section level3">
<h3><span class="header-section-number">1.1.8</span> Scripts</h3>
<p>The Console is great for simple tasks but if you’re working on a project you would mostly likely want to save your work in some sort of a document or a file. Scripts in R are just plain text files that contain R code. You can edit a script just like you would edit a file in any word processing or note-taking application.</p>
<p>Create a new script using the menu or the toolbar button as shown below.</p>
<p><img src="img/rstudio_newfile.png" /></p>
<p>Once you’ve created a script, it is generally a good idea to give it a meaningful name and save it immediately. For our first session save your script as <strong>seminar1.R</strong></p>
<table>
<colgroup>
<col width="55%" />
<col width="44%" />
</colgroup>
<tbody>
<tr class="odd">
<td>Familiarize yourself with the script window in RStudio, and especially the two buttons labeled <strong>Run</strong> and <strong>Source</strong></td>
<td><img src="img/rstudio_script.png" /></td>
</tr>
</tbody>
</table>
<p>There are a few different ways to run your code from a script.</p>
<table>
<colgroup>
<col width="24%" />
<col width="75%" />
</colgroup>
<tbody>
<tr class="odd">
<td>One line at a time</td>
<td>Place the cursor on the line you want to run and hit CTRL-ENTER or use the <strong>Run</strong> button</td>
</tr>
<tr class="even">
<td>Multiple lines</td>
<td>Select the lines you want to run and hit CTRL-ENTER or use the <strong>Run</strong> button</td>
</tr>
<tr class="odd">
<td>Entire script</td>
<td>Use the <strong>Source</strong> button</td>
</tr>
</tbody>
</table>
</div>
<div id="central-tendency" class="section level3">
<h3><span class="header-section-number">1.1.9</span> Central Tendency</h3>
<p>The appropriate measure of central tendency depends on the level of measurement of the variable. To recap:</p>
<table>
<thead>
<tr class="header">
<th>Level of measurement</th>
<th>Appropriate measure of central tendency</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Continuous</td>
<td>arithmetic mean (or average)</td>
</tr>
<tr class="even">
<td>Ordered</td>
<td>median (or the central observation)</td>
</tr>
<tr class="odd">
<td>Nominal</td>
<td>mode (the most frequent value)</td>
</tr>
</tbody>
</table>
<div id="mean" class="section level4">
<h4><span class="header-section-number">1.1.9.1</span> Mean</h4>
<p>We calculate the average grade on our eleven homework assignments in statistics 1. We create our vector of 11 (fake) grades first using the <code>c()</code> function, where <code>c</code> stands for collect or concatenate.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1">hw.grades &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">80</span>, <span class="dv">90</span>, <span class="dv">85</span>, <span class="dv">71</span>, <span class="dv">69</span>, <span class="dv">85</span>, <span class="dv">83</span>, <span class="dv">88</span>, <span class="dv">99</span>, <span class="dv">81</span>, <span class="dv">92</span>)</a></code></pre></div>
<p>We now take the sum of the grades.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" title="1">sum.hw.grades &lt;-<span class="st"> </span><span class="kw">sum</span>(hw.grades)</a></code></pre></div>
<p>We also take the number of grades</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1">number.hw.grades &lt;-<span class="st"> </span><span class="kw">length</span>(hw.grades) </a></code></pre></div>
<p>The mean is the sum of grades over the number of grades.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" title="1">sum.hw.grades <span class="op">/</span><span class="st"> </span>number.hw.grades</a></code></pre></div>
<pre><code>[1] 83.90909</code></pre>
<p>R provides us with an even easier way to do the same with a function called <a href="http://bit.ly/R_mean"><code>mean()</code></a>.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" title="1"><span class="kw">mean</span>(hw.grades)</a></code></pre></div>
<pre><code>[1] 83.90909</code></pre>
</div>
<div id="median" class="section level4">
<h4><span class="header-section-number">1.1.9.2</span> Median</h4>
<p>The median is the appropriate measure of central tendency for ordinal variables. Ordinal means that there is a rank ordering but not equally spaced intervals between values of the variable. Education is a common example. In education, more education is better. But the difference between primary school and secondary school is not the same as the difference between secondary school and an undergraduate degree.</p>
<p>Let’s generate a fake example with 100 people. We use numbers to code different levels of education.</p>
<table>
<tbody>
<tr class="odd">
<td>Code</td>
<td>Meaning</td>
<td>Frequency in our data</td>
</tr>
<tr class="even">
<td>0</td>
<td>no education</td>
<td>1</td>
</tr>
<tr class="odd">
<td>1</td>
<td>primary school</td>
<td>5</td>
</tr>
<tr class="even">
<td>2</td>
<td>secondary school</td>
<td>55</td>
</tr>
<tr class="odd">
<td>3</td>
<td>undergraduate degree</td>
<td>20</td>
</tr>
<tr class="even">
<td>4</td>
<td>postgraduate degree</td>
<td>10</td>
</tr>
<tr class="odd">
<td>5</td>
<td>doctorate</td>
<td>9</td>
</tr>
</tbody>
</table>
<p>We introduce a new function to create a vector. The function <code>rep()</code>, replicates elements of a vector. Its arguments are the item <code>x</code> to be replicated and the number of <code>times</code> to replicate. Below, we create the variable education with the frequency of education level indicated above. Note that the arguments <code>x</code> and <code>times</code> do not have to be written out.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" title="1">edu &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="kw">rep</span>(<span class="dt">x=</span><span class="dv">0</span>, <span class="dt">times=</span><span class="dv">1</span>), <span class="kw">rep</span>(<span class="dt">x=</span><span class="dv">1</span>, <span class="dt">times=</span><span class="dv">5</span>), <span class="kw">rep</span>(<span class="dt">x=</span><span class="dv">2</span>, <span class="dt">times=</span><span class="dv">55</span>),</a>
<a class="sourceLine" id="cb36-2" title="2">          <span class="kw">rep</span>(<span class="dt">x=</span><span class="dv">3</span>, <span class="dt">times=</span><span class="dv">20</span>), <span class="kw">rep</span>(<span class="dv">4</span>,<span class="dv">10</span>), <span class="kw">rep</span>(<span class="dv">5</span>,<span class="dv">9</span>) )</a></code></pre></div>
<p>The median level of education is the level where 50 percent of the observations have a lower or equal level of education and 50 percent have a higher or equal level of education. That means that the median splits the data in half.</p>
<p>We use the <a href="http://bit.ly/R_median"><code>median()</code></a> function for finding the median.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1"><span class="kw">median</span>(edu)</a></code></pre></div>
<pre><code>[1] 2</code></pre>
<p>The median level of education is secondary school.</p>
</div>
<div id="mode" class="section level4">
<h4><span class="header-section-number">1.1.9.3</span> Mode</h4>
<p>The mode is the appropriate measure of central tendency if the level of measurement is nominal. Nominal means that there is no ordering implicit in the values that a variable takes on. We create data from 1000 (fake) voters in the United Kingdom who each express their preference on remaining in or leaving the European Union. The options are leave or stay. Leaving is not greater than staying and vice versa (even though we all order the two options normatively).</p>
<table>
<tbody>
<tr class="odd">
<td>Code</td>
<td>Meaning</td>
<td>Frequency in our data</td>
</tr>
<tr class="even">
<td>0</td>
<td>leave</td>
<td>509</td>
</tr>
<tr class="odd">
<td>1</td>
<td>stay</td>
<td>491</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">stay &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">0</span>, <span class="dv">509</span>), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">491</span>))</a></code></pre></div>
<p>The mode is the most common value in the data. There is no mode function in R. The most straightforward way to determine the mode is to use the <a href="http://bit.ly/R_table"><code>table()</code></a> function. It returns a frequency table. We can easily see the mode in the table. As your coding skills increase, you will see other ways of recovering the mode from a vector.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">table</span>(stay)</a></code></pre></div>
<pre><code>stay
  0   1 
509 491 </code></pre>
<p>The mode is leaving the EU because the number of ‘leavers’ (0) is greater than the number of ‘remainers’ (1).</p>
</div>
</div>
<div id="dispersion" class="section level3">
<h3><span class="header-section-number">1.1.10</span> Dispersion</h3>
<p>The appropriate measure of dispersion depends on the level of measurement of the variable we wish to describe.</p>
<table>
<thead>
<tr class="header">
<th>Level of measurement</th>
<th>Appropriate measure of dispersion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Continuous</td>
<td>variance and/or standard deviation</td>
</tr>
<tr class="even">
<td>Ordered</td>
<td>range or interquartile range</td>
</tr>
<tr class="odd">
<td>Nominal</td>
<td>proportion in each category</td>
</tr>
</tbody>
</table>
<div id="variance-and-standard-deviation" class="section level4">
<h4><span class="header-section-number">1.1.10.1</span> Variance and standard deviation</h4>
<p>Both the variance and the standard deviation tell by how much an average realisation of a variable differs from the mean of that variable. Let’s assume that our variable is income in the UK. Let’s assume that its mean is 35 000 per year. We also assume that the average deviation from 35 000 is 5 000. If we ask 100 people in the UK at random about their income, we get 100 different answers. If we average the differences betweeen the 100 answers and 35 000, we would get 5 000. Suppose that the average income in France is also 35 000 per year but the average deviation is 10 000 instead. This would imply that income is more equally distributed in the UK than in France.</p>
<p>Dispersion is important to describe data as this example illustrates. Although, mean income in our hypothetical example is the same in France and the UK, the distribution is tighter in the UK. The figure below illustrates our example:</p>
<p><img src="suffolk2019_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<p>The variance gives us an idea about the variability of data. The formula for the variance in the population is <span class="math display">\[ \frac{\sum_{i=1}^n(x_i - \mu_x)^2}{n}\]</span></p>
<p>The formula for the variance in a sample adjusts for sampling variability, i.e., uncertainty about how well our sample reflects the population by subtracting 1 in the denominator. Subtracting 1 will have next to no effect if n is large but the effect increases the smaller n. The smaller n, the larger the sample variance. The intuition is, that in smaller samples, we are less certain that our sample reflects the population. We, therefore, adjust variability of the data upwards. The formula is</p>
<p><span class="math display">\[ \frac{\sum_{i=1}^n(x_i - \bar{x})^2}{n-1}\]</span></p>
<p>Notice the different notation for the mean in the two formulas. We write <span class="math inline">\(\mu_x\)</span> for the mean of x in the population and <span class="math inline">\(\bar{x}\)</span> for the mean of x in the sample. Notation is, however, unfortunately not always consistent.</p>
<p>Take a minute to think your way through the formula. There are 4 setps: (1), In the numerator, we subtract the mean of x from some realisation of x. (2), We square the deviations from the mean because we want positive numbers only. (3) We sum the squared deviations. (4) We divide the sum by <span class="math inline">\((n-1)\)</span>. Below we show this for the homework example. In the last row, we add a 5th step. We take the square root in order to return to the orginial units of the homework grades.</p>
<table>
<thead>
<tr class="header">
<th>Obs</th>
<th>Var</th>
<th>Dev. from mean</th>
<th>Squared dev. from mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>i</td>
<td>grade</td>
<td><span class="math inline">\(x_i-\bar{x}\)</span></td>
<td><span class="math inline">\((x_i-\bar{x})^2\)</span></td>
</tr>
<tr class="even">
<td>1</td>
<td>80</td>
<td>-3.9090909</td>
<td>15.2809917</td>
</tr>
<tr class="odd">
<td>2</td>
<td>90</td>
<td>6.0909091</td>
<td>37.0991736</td>
</tr>
<tr class="even">
<td>3</td>
<td>85</td>
<td>1.0909091</td>
<td>1.1900826</td>
</tr>
<tr class="odd">
<td>4</td>
<td>71</td>
<td>-12.9090909</td>
<td>166.6446281</td>
</tr>
<tr class="even">
<td>5</td>
<td>69</td>
<td>-14.9090909</td>
<td>222.2809917</td>
</tr>
<tr class="odd">
<td>6</td>
<td>85</td>
<td>1.0909091</td>
<td>1.1900826</td>
</tr>
<tr class="even">
<td>7</td>
<td>83</td>
<td>-0.9090909</td>
<td>0.8264463</td>
</tr>
<tr class="odd">
<td>8</td>
<td>88</td>
<td>4.0909091</td>
<td>16.7355372</td>
</tr>
<tr class="even">
<td>9</td>
<td>99</td>
<td>15.0909091</td>
<td>227.7355372</td>
</tr>
<tr class="odd">
<td>10</td>
<td>81</td>
<td>-2.9090909</td>
<td>8.4628099</td>
</tr>
<tr class="even">
<td>11</td>
<td>92</td>
<td>8.0909091</td>
<td>65.4628099</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\sum_{i=1}^n\)</span></td>
<td></td>
<td></td>
<td>762.9090909</td>
</tr>
<tr class="even">
<td><span class="math inline">\(\div n-1\)</span></td>
<td></td>
<td></td>
<td>76.2909091</td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\sqrt{}\)</span></td>
<td></td>
<td></td>
<td>8.7344667</td>
</tr>
</tbody>
</table>
<p>Our first grade (80) is below the mean (83.9090909). The sum is, thus, negative. Our second grade (90) is above the mean, so that the sum is positive. Both are deviations from the mean (think of them as distances). Our sum shall reflect the total sum of distances and distances must be positive. Hence, we square the distances from the mean. Having done this for all eleven observations, we sum the squared distances. Dividing by 10 (with the sample adjustment), gives us the average squared deviation. This is the variance. The units of the variance—squared deviations—are somewhat awkward. We return to this in a moment.</p>
<p>We take the variance in R by using the <a href="http://bit.ly/R_var"><code>var()</code></a> function. By default <code>var()</code> takes the sample variance.</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb42-1" title="1"><span class="kw">var</span>(hw.grades)</a></code></pre></div>
<pre><code>[1] 76.29091</code></pre>
<p>The average squared difference form our mean grade is 76.2909091. But what does that mean? We would like to get rid of the square in our units. That’s what the standard deviation does. The standard deviation is the square root over the variance.</p>
<p><span class="math display">\[ \sqrt{\frac{\sum_{i=1}^n(x_i - \bar{x})^2}{n-1}}\]</span></p>
<p>We get the average deviation from our mean grade (83.9090909) with the <a href="http://bit.ly/R_sd"><code>sd()</code></a> function.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb44-1" title="1"><span class="kw">sd</span>(hw.grades)</a></code></pre></div>
<pre><code>[1] 8.734467</code></pre>
<p>The standard deviation is much more intuitive than the variance because its units are the same as the units of the variable we are interested in. “Why teach us about this awful variance then”, you ask. Mathematically, we have to compute the variance before getting the standard deviation. We recommend that you use the standard deviation to describe the variability of your continuous data.</p>
<p>Note: We used the sample variance and sample standard deviation formulas. If the eleven assignments represent the population, we would use the population variance formula. Whether the 11 cases represent a sample or the population depends on what we want to know. If we want learn about all students’ assignments or future assignments, the 11 cases are a sample.</p>
</div>
<div id="range-and-interquartile-range" class="section level4">
<h4><span class="header-section-number">1.1.10.2</span> Range and interquartile range</h4>
<p>The proper measure of dispersion of an ordinal variable is the range or the interquartile range. The interquartile range is usually the preferred measure because the range is strongly affected by outlying cases.</p>
<p>Let’s take the range first. We get back to our education example. In R, we use the <a href="http://bit.ly/R_range"><code>range()</code></a> function to compute the range.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb46-1" title="1"><span class="kw">range</span>(edu)</a></code></pre></div>
<pre><code>[1] 0 5</code></pre>
<p>Our data ranges from no education all the way to those with a doctorate. However, no education is not a common value. Only one person in our sample did not have any education. The interquartile range is the range from the 25th to the 75th percentiles, i.e., it contains the central 50 percent of the distribution.</p>
<p>The 25th percentile is the value of education that 25 percent or fewer people have (when we order education from lowest to highest). We use the <a href="http://bit.ly/R_quantile"><code>quantile()</code></a> function in R to get percentiles. The function takes two arguments: <code>x</code> is the data vector and <code>probs</code> is the percentile.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb48-1" title="1"><span class="kw">quantile</span>(edu, <span class="fl">0.25</span>) <span class="co"># 25th percentile</span></a></code></pre></div>
<pre><code>25% 
  2 </code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb50-1" title="1"><span class="kw">quantile</span>(edu, <span class="fl">0.75</span>) <span class="co"># 75th percentile</span></a></code></pre></div>
<pre><code>75% 
  3 </code></pre>
<p>Therefore, the interquartile range is from 2, secondary school to 3, undergraduate degree.</p>
</div>
<div id="proportion-in-each-category" class="section level4">
<h4><span class="header-section-number">1.1.10.3</span> Proportion in each category</h4>
<p>To describe the distribution of our nominal variable, support for remaining in the European Union, we use the proportions in each category.</p>
<p>Recall, that we looked at the frequency table to determine the mode:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb52-1" title="1"><span class="kw">table</span>(stay)</a></code></pre></div>
<pre><code>stay
  0   1 
509 491 </code></pre>
<p>To get the proportions in each category, we divide the values in the table, i.e., 509 and 491, by the sum of the table, i.e., 1000.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb54-1" title="1"><span class="kw">table</span>(stay) <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>(<span class="kw">table</span>(stay))</a></code></pre></div>
<pre><code>stay
    0     1 
0.509 0.491 </code></pre>
</div>
</div>
<div id="exercises" class="section level3">
<h3><span class="header-section-number">1.1.11</span> Exercises</h3>
<ol style="list-style-type: decimal">
<li>Create a script and call it assignment01. Save your script.</li>
<li>Download this <a href="https://www.rstudio.com/wp-content/uploads/2016/06/r-cheat-sheet.pdf">cheat-sheet</a> and go over it. You won’t understand most of it right a away. But it will become a useful resource. Look at it often.</li>
<li>Calculate the square root of 1369 using the <code>sqrt()</code> function.</li>
<li>Square the number 13 using the <code>^</code> operator.</li>
<li>What is the result of summing all numbers from 1 to 100?</li>
</ol>
<p>We take a sample of yearly income in Berlin. The values that we got are: 19395, 22698, 40587, 25705, 26292, 42150, 29609, 12349, 18131, 20543, 37240, 28598, 29007, 26106, 19441, 42869, 29978, 5333, 32013, 20272, 14321, 22820, 14739, 17711, 18749.</p>
<ol start="6" style="list-style-type: decimal">
<li>Create the variable <code>income</code> with the values form our Berlin sample in R.</li>
<li>Describe Berlin income using the appropriate measures of central tendency and dispersion.</li>
<li>Compute the average deviation without using the <code>sd()</code> function.</li>
</ol>
<p>Take a look at the Sunday Question (who would you vote for if the general election were next Sunday?) by following this link <a href="https://www.wahlrecht.de/umfragen/">Sunday Question Germany</a>. You should be able to translate the website into English by right clicking in your browser and clicking “Translate to English.”</p>
<ol start="9" style="list-style-type: decimal">
<li>What is the level of measurement of the variable in the Sunday Question?</li>
<li>Take the most recent poll and describe what you see in terms of central tendency and dispersion.</li>
<li>Save your script, which should now include the answers to all the exercises.</li>
<li>Source your script, i.e. run the entire script without error message. Clean your script if you get error messages.</li>
</ol>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="seminar2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": ["suffolk2019.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
